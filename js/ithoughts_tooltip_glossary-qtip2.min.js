function stripQuotes(t,e){return"string"!=typeof t?"":e?t.replace(/"/g,"&aquot;").replace(/\n/g,"<br/>"):t.replace(/<br\/>/g,"\n").replace(/&aquot;/g,'"')}!function(){function t(t){var e=$(document.createElement("div"))
$(e).append($(t))
var e=e.html()
return e}function e(e){for(var i=$w.height(),s=$w.width(),o=0,a=[[512,288],[256,144]],n=a.length;n>o&&!(s>a[o][0]&&i>a[o][1]);o++);var r=a[o]
return"undefined"!=typeof e?(e.prop({width:r[0],height:r[1]}).addClass("ithoughts_tt_gl-video"),{dims:{width:r[0],height:r[1]},text:t(e)}):($(".ithoughts_tt_gl-video").prop({width:r[0],height:r[1]}),void $(".ithoughts_tt_gl-video_tip").each(function(){var t=$(this).qtip("api"),e=t.disabled
t.enable(),t.reposition(),t.disable(e)}).css({width:r[0],height:r[1]}))}var i,s=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),o=s||navigator.userAgent.match(/(Android|webOS|BlackBerry)/i)?1:0
$w.resize(function(){clearTimeout(i),i=setTimeout(e,100)}),$d.ready(function(){tooltipsContainer=$($.parseHTML('<div id="ithoughts_tooltip_glossary-tipsContainer"></div>')),$(document.body).append(tooltipsContainer)
var t={start:s?"mousedown":"touchstart",end:s?"mouseup":"touchend"}
s&&$("body").css({cursor:"pointer"}),$("span[class^=ithoughts_tooltip_glossary-]").each(function(){var i=$(this).data("qtipstyle")?$(this).data("qtipstyle"):ithoughts_tt_gl.qtipstyle,s=$(this).data("termcontent")?$(this).data("termcontent"):ithoughts_tt_gl.termcontent,a=$(this).data("qtipshadown")?$(this).data("qtipshadown"):ithoughts_tt_gl.qtipshadown
a="true"===a||"1"===a
var n=$(this).data("qtiprounded")?$(this).data("qtiprounded"):ithoughts_tt_gl.qtiprounded
n="true"===n||"1"===n
var r=$(this).data("qtiptrigger")?$(this).data("qtiptrigger"):ithoughts_tt_gl.qtiptrigger
if("click"==r)$(this).children("a").click(function(t){t.preventDefault()})
else if("responsive"==r){var l=$(this)
l.touch=o,$("body").bind("click touch",function(t){0==$(t.target).closest(l).length&&(l.data("expanded",!1),l.triggerHandler("responsiveout"))}),l.children("a").click(function(t){l.data("expanded")||0==l.touch||(l.data("expanded",!0),l.triggerHandler("responsive"),t.preventDefault())}).bind(t.start,function(t){l.touch=1}).bind(t.end,function(t){l.touch=2}).bind("mouseover focus",function(t){l.triggerHandler("responsive")}).bind("mouseleave focusout",function(t){l.triggerHandler("responsiveout")})}var h,d="qtip-"+i+(a?" qtip-shadow":"")+(n?" qtip-rounded":"")+" "
if($(this).hasClass("ithoughts_tooltip_glossary-glossary"))if(this.getAttribute("data-termid")&&"off"!=s){var g={action:"ithoughts_tt_gl_get_term_details",content:s,termid:$(this).data().termid}
h={content:{text:ithoughts_tt_gl.lang.qtip.pleasewait_ajaxload.content,ajax:{url:ithoughts_tt_gl.admin_ajax,type:"POST",data:g,dataType:"json",loading:!1,success:function(t,e){t.success?(this.set("content.title",t.data.title),this.set("content.text",t.data.content)):this.set("content.text","Error")}},title:{text:ithoughts_tt_gl.lang.qtip.pleasewait_ajaxload.title}},style:{classes:d+"ithoughts_tooltip_glossary-glossary"}}}else this.getAttribute("data-term-content")&&this.getAttribute("data-term-title")&&(h={content:{title:{text:this.getAttribute("data-term-title")},text:this.getAttribute("data-term-content")},style:{classes:d+"ithoughts_tooltip_glossary-glossary"}})
else if($(this).hasClass("ithoughts_tooltip_glossary-tooltip"))h={style:{classes:d+"ithoughts_tooltip_glossary-tooltip"},content:{text:stripQuotes(this.getAttribute("data-tooltip-content"),!1).replace(/&/g,"&amp;"),title:{text:$(this).text()}}}
else{if(!$(this).hasClass("ithoughts_tooltip_glossary-mediatip"))return
if(h={style:{classes:d+"ithoughts_tooltip_glossary-mediatip"},position:{adjust:{scroll:!1}},content:{text:"",title:{text:$(this).text()}},hide:{fixed:!0,delay:100},events:{show:function(){$(this).qtip().reposition()}}},this.getAttribute("data-mediatip-image")){var u={src:this.getAttribute("data-mediatip-image"),alt:$(this).text()}
if("undefined"!=typeof ithoughts_tt_gl.qtip_filters&&ithoughts_tt_gl.qtip_filters&&"undefined"!=typeof ithoughts_tt_gl.qtip_filters.mediatip&&ithoughts_tt_gl.qtip_filters.mediatip&&ithoughts_tt_gl.qtip_filters.mediatip.length>0)for(var p=0;p<ithoughts_tt_gl.qtip_filters.mediatip.length;p++)u=$.extend(u,ithoughts_tt_gl.qtip_filters.mediatip[p]($(this)))
var c=""
for(var _ in u)c+=_+'="'+u[_]+'" '
h.content.text="<img "+c+">"
var f=this.getAttribute("data-mediatip-caption")
f&&(h.content.text+='<div class="ithoughts_tt_gl-caption">'+f.replace(/&aquot;/g,'"')+"</div>")}else if(this.getAttribute("data-mediatip-html")){var v=function(t){return 1==t.length&&("IFRAME"==t[0].nodeName&&t[0].src.match(/youtube|dailymotion/)||"VIDEO"==t[0].nodeName)?e(t):void 0}($($.parseHTML(this.getAttribute("data-mediatip-html").replace("&quot;",'"').trim())))
h.content.text=v.text,h.content.title.text='<span class="ithoughts_tooltip_glossary_pin_container"><svg viewBox="0 0 26 26" class="ithoughts_tooltip_glossary_pin"><use xlink:href="#icon-pin"></use></svg></span><span class="ithoughts_tt_gl-title_with_pin">'+h.content.title.text+"</span>",h.style.classes+=" ithoughts_tt_gl-force_no_pad ithoughts_tt_gl-video_tip ithoughts_tt_gl-with_pin",h.style.width=v.dims.width,h.events.render=function(t,e){e.elements.title.find(".ithoughts_tooltip_glossary_pin_container").click(function(){$(this).toggleClass("pined"),$(this).hasClass("pined")?e.disable():e.enable()})}}}"true"==this.getAttribute("data-tooltip-autoshow")&&(h.show=$.extend(!0,h.show,{ready:!0})),"true"==this.getAttribute("data-tooltip-nosolo")&&(h.show=$.extend(!0,h.show,{solo:!1})),"true"==this.getAttribute("data-tooltip-nohide")&&(h=$.extend(!0,h,{hide:"someevent",show:{event:"someevent"}})),this.getAttribute("data-tooltip-id")&&(h=$.extend(!0,h,{id:this.getAttribute("data-tooltip-id")}))
var m=$.extend(!0,{prerender:!0,position:{at:"top center",my:"bottom center",viewport:$("body"),effect:!1,container:tooltipsContainer},show:{event:r,solo:!0},hide:"responsive"==r?"responsiveout":"mouseleave",style:d},h)
if($(this).qtip(m),$(this).find("a[title]").removeAttr("title"),glossaryIndex=$("#glossary-index"),glossaryIndex){var y=glossaryIndex.find("#glossary-container")
switch(glossaryIndex.data("type")){case"tile":var x=glossaryIndex.find('header p[data-empty="false"]')
x.click(function(t){glossaryIndex.find('article[data-active="true"]').attr("data-active",!1)
var e=glossaryIndex.find('article[data-chartype="'+$(t.target).data("chartype")+'"]')
e.attr("data-active","true"),y.animate({height:e.outerHeight(!0)},{duration:500,queue:!1,step:function(){y.css("overflow","visible")},complete:function(){y.css("overflow","visible")}})})}}})})}()
